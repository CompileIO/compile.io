
<nav class="navbar navbar-dark red sticky-top noselect flex-md-nowrap p-0 shadow">
  <h1 class="navbar-brand col-sm-3 col-md-2 mr-0">Compile.IO</h1>
  <ul class="navbar-nav px-3">
    <li class="nav-item text-nowrap text-light">
      <a class="nav-link" (click)="logout()">Sign out</a>
    </li>
  </ul>
</nav>

<div class="container-fluid">
  <div class="row">
    <nav class="sidebar vh-100 w-25 mw-100 blackText gray col-2 shadow  navbar-dark">
      <div class="container noselect mt-5">
        
        <div *ngFor="let cl of classes" class="row">
          <div class="w-100">
            <div class="w-100 sidebarHover p-3 btn blackText" (click)="selectClass(cl)">
              <span>
                {{cl}}
              </span>
              <img src="./assets/open-iconic/svg/caret-left.svg" *ngIf="selectedClass == cl && selectedHomework == hwk" alt="left" class="smicon" />
            </div>
            <div class="container" *ngIf="selectedClass == cl">
              <div class="row" *ngFor="let hwk of Assignments" (click)="selectHomework(hwk.id)">
                <div *ngIf="selectedHomework == hwk" class="col p-2 sidebarHover w-50 btn blackText">
                  <span>
                    {{hwk.assignmentName}}
                  </span>
                  <img src="./assets/open-iconic/svg/caret-left.svg" alt="left" class="smicon" />
                </div>
                <div *ngIf="selectedHomework != hwk" class="col p-2 sidebarHover w-50 btn blackText">
                  <span>
                    {{hwk.assignmentName}}
                  </span>
                </div>
              </div>
              <div class="row" *ngIf="group == 'PROFESSOR' || group == 'ADMIN'" (click)="newHomework()">
                <div class="col p-2 sidebarHover w-50 btn blackText">
                  <img src="./assets/open-iconic/svg/plus.svg" alt="left" class="smicon" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>


    <div *ngIf="selectedHomework == null && selectedClass == null" class="col">
      <div class="container mt-5 shadow h-100">
        <div class="row">
          <div class="col">
            <h1>Welcome</h1>
          </div>
        </div>
        <div class="row mt-5">
          <div class="col">
            <h5>Start navigating by using the sidebar to the left!</h5>
          </div>
        </div>
      </div>
    </div>


    <div *ngIf="selectedHomework == null && selectedClass != null" class="col mw-100 mt-5">
      <div class="container shadow h-100">
        <div class="row">
          <div class="col">
            <div class="p-3 w-100">
              <h1>
                {{selectedClass | uppercase}}
              </h1>
            </div>
          </div>
        </div>
        <div class="row" *ngFor="let hwk of homeworks" (click)="selectHomework(hwk.id)">
          <div *ngIf="selectedHomework != hwk" class="col p-4 sidebarHover w-50 btn">
            <span>
              {{hwk.assignmentName}}
            </span>
          </div>
        </div>
        <div class="row" *ngIf="group == 'PROFESSOR' || group == 'ADMIN'" (click)="newHomework()">
          <div class="col p-2 sidebarHover w-50 btn p-4">
            <img src="./assets/open-iconic/svg/plus.svg" alt="left" class="smicon" />
          </div>
        </div>
      </div>
    </div>


    <div *ngIf="selectedHomework != null && selectedHomework.id == '-1'" class="col mw-100 mt-5">
      <div class="container shadow h-100">
        <div class="row">
          <div class="col">
            <div class="p-3 w-100 d-block" style="height: 100px">
              <h1>
                {{selectedClass | uppercase}}
              </h1>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <app-change-homework [className]="selectedClass"
                                 [userName]="username"
                                 [assignmentInfo]="selectedHomework"></app-change-homework>
          </div>
        </div>
      </div>
    </div>


    <div *ngIf="selectedHomework != null && selectedHomework.id != '-1'" class="col mw-100 mt-5">
      <div class="container shadow h-100">
        <div class="row">
          <div class="col">
            <div class="p-3 w-100">
              <h1>
                {{selectedClass | uppercase}} - {{selectedHomework.assignmentName | uppercase}}
              </h1>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="group == 'PROFESSOR' || group == 'ADMIN'">
          <div class="col">

            <ul class="nav nav-tabs" id="myTab" role="tablist">
              <li class="nav-item noselect">
                <a *ngIf="!this.change" class="nav-link active" id="profile-tab" data-toggle="tab" role="tab" aria-controls="runPage" aria-selected="false" (click)="changeChange(false)">Run</a>
                <a *ngIf="this.change" class="nav-link" id="profile-tab" data-toggle="tab" role="tab" aria-controls="runPage" aria-selected="false" (click)="changeChange(false)">Run</a>
              </li>
              <li class="nav-item noselect">
                <a *ngIf="!this.change" class="nav-link" id="home-tab" data-toggle="tab" role="tab" aria-controls="changePage" aria-selected="true" (click)="changeChange(true)">Change</a>
                <a *ngIf="this.change" class="nav-link active" id="home-tab" data-toggle="tab" role="tab" aria-controls="changePage" aria-selected="true" (click)="changeChange(true)">Change</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="row">
          <div class="col">

            
            <div class="tab-content show active" id="myTabContent">

              <app-homework-page id="runPage"
                                 *ngIf="!change"
                                 [username]="username"
                                 [assignmentInfo]="selectedHomework">
              </app-homework-page>
              <app-change-homework id="changePage" *ngIf="change"
                                 [assignmentInfo]="selectedHomework">
              </app-change-homework>
            </div>
          </div>
        </div>
      </div>
    </div>


  </div>
</div>
